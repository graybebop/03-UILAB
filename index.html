<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>TPOD</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <!-- Noto Sans koran -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/swiper.css">
    <link rel="stylesheet" type="text/css" href="css/styles.min.css">

    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/swiper.min.js"></script>
    <script src="js/common.js"></script>
</head>
<style>
    .wrapper {
        padding: 10px 20px;
        position: relative;
    }
    
    .grid-list {
        border: 0px solid #ddd;
    }
    
    .grid-list .items {
        margin: 5px 10px 15px 10px;
        padding-bottom: 10px;
        align-self: auto;
        height: auto;
    }
    
    #calc {
        z-index: 10;
        position: fixed;
        bottom: 10px;
        padding: 10px;
        border: 1px solid #000;
        background-color: #fff;
    }
    
    .history-back {
        position: fixed;
        width: 100%;
        height: 50px;
        z-index: 10;
        background-color: #fff;
        padding-left: 10px;
        padding-top: 20px;
    }
    
    .t-card {
        height: auto !important;
    }
    
    @media(max-width:760px) {
        .wrapper {
            padding: 10px;
        }
    }
    
    .t-card__subtitle {
        margin-top: 10px !important;
    }
    
    .top-button-area {
        position: absolute;
        top: 30px;
        right: 30px;
    }
    
    .top-button-area .material-icons-outlined {
        font-size: 18px;
    }
    
    @media(max-width:760px) {
        .top-button-area {
            position: relative;
        }
    }
</style>

<body>
    <!-- <div class="history-back">
        <button class="btn btn-circle btn-sm" onclick="ui.goback()">
            <span class="material-icons">
                arrow_back
            </span>
        </button>
        <span style="vertical-align: middle;">이전페이지로</span>
    </div> -->
    <section class="wrapper">
        <div class="top-button-area">
            <button class="btn btn-sm btn-light btn-outlined"><span class="material-icons-outlined">
                format_list_bulleted
                </span>리스트</button>
            <button class="btn btn-sm btn-secondary"><span class="material-icons-outlined">
                apps
                    </span>그리드</button>
        </div>
        <h5 class="pt-50 pb-20">전체리스트 - <span class="font-size-14 font-weight-300">총 <em id="articleNo" class="font-weight-700">34</em> 개의 작업물이 완료되었습니다.</span></h5>

        <ul class="grid-list">
            <li data-link="/portfolio/" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/9.jpg');">
                </div>
                <div class="t-card__title">작업경력서(VUE JS & PHP & MYSQL)</div>
                <div class="t-card__subtitle">2000년도 부터 지금까지 일한 작업내역</div>
            </li>
            <li data-link="highlight/code-highlite.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/1.jpg');">
                </div>
                <div class="t-card__title">코드하이라이터</div>
                <div class="t-card__subtitle">인강에서 예제 사용시 필수인 코드하이라이터</div>
            </li>
            <li data-link="tabs/tabs.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/2.jpg');">

                </div>
                <div class="t-card__title">탭 버튼</div>
                <div class="t-card__subtitle">페이지 내 여러콘텐츠를 보여줄때 효과적인 UI 메뉴</div>
            </li>
            <li data-link="calendar/calendar-flex.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/3.jpg');">

                </div>
                <div class="t-card__title">미완성 달력</div>
                <div class="t-card__subtitle">Display flex로 코딩(자바 스크립트 포함)</div>
            </li>
            <li data-link="calendar/calendar-table.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/3.jpg');">

                </div>
                <div class="t-card__title">미완성 달력</div>
                <div class="t-card__subtitle">달력 Table로 작업(자바스크립트로 작업)</div>
            </li>
            <li data-link="grid/mobile-menu-grid-list.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/4.jpg');">

                </div>
                <div class="t-card__title">Swiper Menu & 자바스크립트 그리드 레이아웃</div>
                <div class="t-card__subtitle">스와이퍼 메뉴가 적용되어 있다 PC 모드는 적용이 안되어 있고 모바일에서 활성화됨. <span class="text-important">해당 메뉴 누르면 메뉴가 화면을 넘어갈때 스와이핑 기능이 적용</span>이되며 메뉴 활성화될때 화면의 중앙으로 이동 됨. 같이 쓰인 그리드 리스트는 테스트
                </div>
            </li>
            <li data-link="pcmenu/menu-pc-mobile-responsive.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/5.jpg');">

                </div>
                <div class="t-card__title">멀티레벨 메뉴</div>
                <div class="t-card__subtitle">다단계 메뉴 반응형에 맞게 작동
                </div>
            </li>
            <li data-link="mobile/mobile-completed.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/6.jpg');">

                </div>
                <div class="t-card__title">모바일 메뉴</div>
                <div class="t-card__subtitle">모바일메뉴 - 닫기, 열기
                </div>
            </li>
            <li data-link="treeview/treeview.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/7.jpg');">

                </div>
                <div class="t-card__title">트리 메뉴</div>
                <div class="t-card__subtitle">TreeMenu - 세로형 트리메뉴
                </div>
            </li>
            <li data-link="slider/tpod-slider.html" class="t-card items">
                <div class="t-card_thumb" style="background-image: url('uilab/8.jpg');">

                </div>
                <div class="t-card__title">자바스크립트 슬라이더</div>
                <div class="t-card__subtitle">자바스크립트 슬라이더, 좌우 네비게이션, 페이징, 화면당 개수조정
                </div>
            </li>
        </ul>

    </section>


    <script>
        const gridList = {

            init: function() {

                this.items = document.querySelectorAll('.grid-list .items'); //현재 정보
                this.container = document.getElementsByClassName('grid-list')[0];
                this.container_flex_width = document.getElementsByClassName('grid-list')[0].clientWidth;

                this.delay = 250;
                this.timer = null;
                this.count = 10;

                window.addEventListener('resize', () => {
                    this.resizeHandler();
                });

                this.resizeHandler();
            },

            reArrange: function(ttt, width) {
                let length = ttt.length;
                for (var i = 0; i < length; i++) {
                    ttt[i].style.width = width + 'px';
                }
            },

            resizeHandler: function() {

                var w_w_width = window.innerWidth;
                this.breakPoint = {
                    'col-xss': 350,
                    'col-xs': 450,
                    'col-sm': 760,
                    'col-md': 1024,
                    'col-lg': 1500,
                    'col-xl': 1650,
                };
                if (this.breakPoint['col-xss'] <= w_w_width && this.breakPoint['col-xs'] >= w_w_width) {
                    this.itemsCol = 1;
                }
                if (this.breakPoint['col-xs'] <= w_w_width && this.breakPoint['col-sm'] >= w_w_width) {
                    this.itemsCol = 2;
                }

                if (this.breakPoint['col-sm'] <= w_w_width && this.breakPoint['col-md'] >= w_w_width) {
                    this.itemsCol = 2;
                }
                if (this.breakPoint['col-md'] <= w_w_width && this.breakPoint['col-lg'] >= w_w_width) { //1024보다 크고  1170보다 작음
                    this.itemsCol = 3;

                }
                if (this.breakPoint['col-lg'] <= w_w_width && this.breakPoint['col-xl'] >= w_w_width) {
                    this.itemsCol = 4;
                }
                if (this.breakPoint['col-xl'] < w_w_width) {
                    this.itemsCol = 5;
                }

                clearTimeout(this.timer);

                this.timer = setTimeout(() => {
                    this.getItems(this.itemsCol);

                    console.log('itemsCol', this.itemsCol, this)

                }, this.delay);


                console.log(this.itemsCol)
            },
            getItems: function(n) {

                let itemsProps = window.getComputedStyle(document.getElementsByClassName('items')[0]);

                let itemsPadRight = parseInt(itemsProps.paddingRight);
                let itemsPadLeft = parseInt(itemsProps.paddingLeft);
                let itemsMarginRight = parseInt(itemsProps.marginRight);
                let itemsMarginLeft = parseInt(itemsProps.marginLeft);

                this.container.style.marginLeft = -itemsMarginLeft + 'px';
                this.container.style.marginRight = -itemsMarginRight + 'px';

                let border = n * 2;
                this.itemsCol = n;
                let itemsRow = 100 / this.itemsCol;
                let itemsTotal = itemsPadRight + itemsPadLeft + itemsMarginRight + itemsMarginLeft + border;

                let itemsSpace = 'calc(' + itemsRow + '% - ' + itemsTotal + 'px )';
                let i = 0;


                let rowWidth = 0;
                let itemsWidth = [];

                let lastWidth = null;

                for (var item of this.items) {

                    item.style.width = itemsSpace;
                    if (i < n) {
                        itemsWidth[i] = item.clientWidth;
                        rowWidth = rowWidth + itemsWidth[i];
                        if (i == n - 1) {

                            lastWidth = (rowWidth / n) + (border - 2);
                        }
                        i++;
                    }

                    this.reArrange(this.items, lastWidth);
                }


            }
        }

        window.addEventListener('load', () => {
            gridList.init();
            ui.gotoUrl();

            let txtwrap = document.querySelectorAll('.grid-list li');
            document.getElementById('articleNo').innerText = txtwrap.length;
        })
    </script>



</body>

</html>