<!DOCTYPE html>
<html lang="kr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>TPOD</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <!-- Noto Sans koran -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="../css/styles.min.css">

    <script src="../js/jquery.min.js"></script>
    <script src="../js/common.js"></script>
</head>

<body>
    <div class="wrapper">

        <div>
            <button type="button" class="btn btn-primary" id="popup-open" style="position:relative; z-index:500;">POPUP OPEN</button>
            <button type="button" class="btn btn-primary" id="popup-close" style="position:relative;z-index:501;">POPUP CLOSE</button>
            <button type="button" class="btn btn-primary" id="popup-normal" style="position:relative;z-index:501;">Button Normal</button>
        </div>
    </div>

    <!-- Popup Layer Mask -->
    <div class="popup-layer-mask"></div>
    <div class="popup-wrapper pop-hide" id="popup-wrapper">
        <div class="popup-close-wrap">
            <button type="button" class="btn btn-light btn-circle p-5" onclick="uiExtend.layerPopup.diplayPopup('hide')"><span class="icons material-icons-outlined">close</span></button>
        </div>

        <div class="popup-header">
            <h4 class="title">팝업 제목이 들어갑니다.</h4>
            <div class="tpod-divider mt-20 mb-5"></div>
        </div>
        <div class="popup-body text-center">
            내용이 들어갑니다.
        </div>
        <div class="tpod-divider mt-20 mb-5"></div>
        <div class="button-area text-center">
            <button class="btn btn-primary" onclick="uiExtend.layerPopup.diplayPopup('hide')">확인</button>
            <button class="btn btn-light">취소</button>
        </div>
    </div>
    <script>
        const uiExtend = {
            layerPopup: {
                init: function() {

                    this.setup();
                },

                setup: function() {
                    let btnOpen, btnClose, btnNormal;
                    this.btnOpen = document.getElementById('popup-open');
                    this.btnClose = document.getElementById('popup-close');
                    this.btnNormal = document.getElementById('popup-close');
                    this.btnOpen.addEventListener('click', function(e) {
                        this.clickHandler(e);
                    }.bind(this), false);

                    this.btnClose.addEventListener('click', function(e) {
                        this.clickHandler(e);
                    }.bind(this), false);

                    this.btnNormal.addEventListener('click', function(e) {
                        this.clickHandler(e);
                    }.bind(this), false);

                },
                clickHandler: function(e) {
                    let target = e.currentTarget.getAttribute('id');
                    switch (target) {
                        case 'popup-open':
                            this.diplayPopup('show');
                            break;
                        case 'popup-close':
                            this.diplayPopup('hide');
                            break;
                        default:
                            console.log('nothing to do');
                            break;
                    }

                },
                diplayPopup: function(state) {
                    if (state == "show") {
                        $('.popup-layer-mask').fadeIn(200, function() {
                            $('#popup-wrapper').show();
                        });
                    } else {
                        $('#popup-wrapper').fadeOut(200, function() {
                            $('.popup-layer-mask').hide();
                        });
                    }
                }
            }

        }

        uiExtend.layerPopup.init();
    </script>
</body>

</html>